# 编辑器基础

## 界面

快捷菜单栏：选择、快速添加、蓝图、镜头、运行（Esc键退出运行）

**世界场景设置**（World Settings）：

顶部菜单选择 窗口-世界场景设置，每个关卡都有独立的世界场景设置，将该面板添加到右侧可以进行关卡的各种设置，包括 游戏模式、调整关卡全局光照效果。
导入第三人称功能后，可以在此面板的 游戏模式-游戏模式重载中切换 BP_ThirdPersonGameMode

**Actor**：

所有可以放入关卡的对象都是 **Actor**，比如摄像机、静态网格体、玩家起始位置。Actor支持三维变换，例如平移、旋转和缩放。你可以通过游戏逻辑代码（C++或蓝图）创建（生成）或销毁Actor。

![image-20251107121957379](https://raw.githubusercontent.com/york99alex/Pic4york/main/fix-dir/2025/11/07/f4a464de78837eb4bec31b13e7a66f34-image-20251107121957379-fc61f0.png)



**Component**

组件，在某种意义上，**Actor** 可被视为包含特殊类型 **对象**（称作[组件](https://dev.epicgames.com/documentation/zh-cn/unreal-engine/components-in-unreal-engine)）的容器。 不同类型的组件可用于控制Actor移动的方式及其被渲染的方式，等等。Actor的其他主要功能是在游戏进程中在网络上进行属性[复制](https://dev.epicgames.com/documentation/zh-cn/unreal-engine/actors-in-unreal-engine#replication) 和函数调用。

![image-20251107143617459](https://raw.githubusercontent.com/york99alex/Pic4york/main/fix-dir/2025/11/07/8f6194390d522a95dc1452916925d640-image-20251107143617459-1a4add.png)

> 虚幻就是一个舞台，Actor就是台前幕后的"演员"，Component组件就是演员的各种能力，有基础的也有各自独特的



**内容侧滑菜单**

又叫库、资产库、内容浏览器，ctrl+space 打开。
在关卡中ctrl+s只是保存关卡，内容浏览器里的==保存所有(ctrl+shift+s)==更重要

在**内容**中可以添加各种资产，比如功能或内容包

在进行导入资产时，相应文件会被导入到临时文件空间中，对应的文件预览图会有一个星号*，此时记得点击保存所有，完后才是真正导入到了项目空间中（转换为.uasset文件等）



## 模型操作

从内容浏览器通过滤静态网格体或者快捷菜单栏的 添加-形状-球体，拖拽到场景

**变化**快捷键：

选中物体后，w开启移动，e开启旋转，r开启缩放，按空格循环切换。end键会让物体落到平面上
F键，focus，聚焦到Actor
复制：alt+移动拖拉，或者ctrl+d
多选：ctrl加选中，可加可减
临时移动原点：鼠标中键拖拽物体坐标轴可以临时移动其原点，可配合多选更快捷地调整
角点吸附：按住v键移动，适用于整数倍方块几何的移动，比如墙面等

**原点**，又叫轴心，一个基本模型的中心点，同样的球体资产，有的球体原点在中心，有的在表面，而在表面的可能更容易进行一些对其表面的移动操作。通过双击对应资产，打开静态网格体编辑器预览，在视口预览选项中勾选 显示枢轴，则可看到基于原点的坐标轴（快捷键 alt+p）
![image-20251107154001855](https://raw.githubusercontent.com/york99alex/Pic4york/main/fix-dir/2025/11/07/9e96ea4ce4a95c9dce3b633f3b022553-image-20251107154001855-e1e94b.png)

(在外部模型导入时, 也需要注意原本模型的单位轴和世界中标等重合)



## 资产

导入和迁移资产，都需要注意根路径的问题，以Content为准。

从其他项目迁移资产到自己的项目：

1. 先在其他项目中找到对应的模型/贴图等，选中在其细节里“浏览到内容浏览器”
2. 右键资产，资源操作-迁移，默认确定（也可直接迁移文件夹）
3. 选择路径时，直接选择到需要迁移进的项目的Content目录
4. 有问题或不放心，可以在迁移后的文件夹右键-**修复重定向器**



### Bridge

Quixel Bridge，快速添加到项目。是虚幻官方的提供高质量的3D扫描资产、纹理和材质的平台。

202501，Bridge需要收费证书，直接使用Fab。

- **3D Assets**：3D模型资产，自然、建筑、道具、工业等。
  - 资产的详细页面描述：
    - Size：模型相对人的大小和尺寸。
    - Open/Closed：模型是否完全封闭或者有开口。完全的Closed的圆就表示模型的表面是“无缝”、无开口的。
    - Quaility：Low、Medium、High，部分模型有最高的Nanite纳米级，Nanite可配合引擎到达最极致的效果。
- **3D Plants**：3D 植被。特点，响应引擎的风力系统。
- **Surfaces**：表面/材质，比如路面、石板、草地等，有无缝衔接的特性。
- **Decals**：贴花，增加细节，打破模型、材质的重复感，用于覆盖在模型表面制造真实和氛围感。
- **Imperfections**：纹理，指纹、划痕、灰尘层、抹痕、油渍等黑白纹理。连接到材质节点的 Roughness（粗糙度） 或 Metallic（金属感） 通道，提供更高级的视觉质感。



## 材质



### 材质球 Materials

材质球是贴图和模型之间的媒介，贴图需要通过着色器中原有的光照算法，将贴图中的数字信息和颜色信息转化为视觉效果并进行渲染。

在初学者关卡 ==StarterContent/Map/StarterMap== 里有各种静态和动态的材质演示。

**贴图** ==> **材质球** ==> 应用到**模型**表面进行渲染



### 材质编辑器

默认的**材质结果节点**，以**PBR** (Physically-Based Rendering) 基于物理属性的引擎渲染，通过特殊的光照算法，模拟光线射到物体表面时所展示出的类似真实世界的金属度、粗糙度等物理属性的引擎渲染方法。

- 金属感：
- 粗糙度：粗糙度为0是光滑的镜面反射，为1则是完全粗糙的漫反射。

#### 操作

- 创建常量 Constant：
  - 按住1鼠标左键，1维常量
  - 按住2鼠标左键，2维向量
  - 按住3鼠标左键，3维向量，可连接到基础颜色，调节颜色。
- 常量转为参数，对外部暴露：右键常量节点，转换为参数，命名

### 纹理/贴图 Texture

纹理也分多种作用类型，一般与其命名的后缀有联系。

- 底色：Diffuse, BaseColor, Albedo, D, BC
- 凹凸：disp。多用于不平整的表面增加
- 粗造度：rough，灰度贴图（仅黑白），原理是为每个纹理像素指定其粗糙度。
- 法线：nor（Normal），原理是在凹凸表面的每个点上均作发现，通过RGB颜色通道来标记发现的方向，用低廉的计算成本，让平整的模型表面看起来具有复杂的凹凸细节。看起来通常是紫蓝色的。

### UV贴图空间

纹理贴图空间的简称，可以理解为贴图空间的大小，UV值越大，贴图密度越高。
快捷键u创建uv数值节点



## 光照

影响范围较小，相对可控：

- 点光源：球形的光源，理解为恒星太阳。
- 聚光源：俗名射灯，有一个固定朝向的光源
- 矩形光源：结合上面两点，可控制朝向和范围，效果又更像点光源，理解为摄影镁光灯/补光灯

影响范围较大：

- 定向光源
- 天空光照



### 基本概念（区域光照）

- 强度：光线的明亮度
- 光源颜色
- 衰减半径：影响范围
- 源半径：光源本身的半径，影响其照射物体的影子的虚实
  - 源半径为0：<img src="https://raw.githubusercontent.com/york99alex/Pic4york/main/fix-dir/2026/01/12/1e8e0b3097acefec14ce14275d776f1f-image-20260112102911096-fc277e.png" alt="image-20260112102911096" style="zoom:50%;" />
  - 源半径为50：<img src="https://raw.githubusercontent.com/york99alex/Pic4york/main/fix-dir/2026/01/12/977f373b036661d1aed6ae22773bce0a-image-20260112103146670-66e815.png" alt="image-20260112103146670" style="zoom:50%;" />

特有的：

- 聚光源
  - 锥体外部角度：照射区域的大小，聚光的范围
  - 光源描述文件：可以使用自带提供的几个IES纹理描述来达到更丰富的光线效果
- 矩形光源
  - 挡光板角度：在照射范围边缘有一些模糊的虚影，范围由该参数控制



### 环境光照

菜单栏-窗口-**环境光混合器**：在这个编辑器窗口中可以创建和编辑关卡的天空、云、大气光源和天空光照。

注：所有环境光照的操作都会实时地影响整个关卡的效果，也即动态实时的天气系统

- 定向光源：又名大气光源、太阳光、平行光
  - 参数-源角度：控制太阳的大小，影响影子模糊。
  - 操作-调整太阳光角度：两种
    - 第一种：选中 DirectionalLight，按e键进行旋转操作，三个周都可以
    - 第二种：选中，按住Ctrl + L呼出罗盘指针的同时移动鼠标，更自由也更灵敏的控制
- 天空大气：天空的背景
- 体积云：云朵，让天空更加丰富
- 天空光照：可以将天光的一些信息重新映射回场景（空气散射），提供更自然的光照，包括大气层散发的蓝色微光以及整个环境的反射光。



### HDRI背景

封装好的环境插件：菜单栏-窗口-插件-搜索 HDRIBackdrop，重启虚幻5后，在快速添加-光源-HDRI背景

将高动态范围（HDR）图像用作背景，通常用作展示模型

- Intensity：光照强度
- Size：背景大小
- 高级-Use Camera Projection：使用摄像头估算，背景变得自然减少拉伸
- 背景图也可以在 [HDRI • Poly Haven](https://polyhaven.com/zh/hdris) 寻找HDRI



### 后期盒

快速添加-视觉效果-**后期体积处**/PostProcessVolume，俗称后期盒

- 作用范围，其Box大小就是作用范围
  - 可以通过缩放调整大小，被包裹起来的范围就会受到后期盒配置属性的影响
  - 也可以在细节中搜索Bound，勾选启用无限范围
- **眼部自适应**：人眼在亮暗差异较大的情况下过度时，会自动调整眼球细胞对光线的敏感度，从而更好的观察和适应环境，在虚幻引擎中，为了实现这一效果，设计出了**自动曝光**这一功能，但对于一些本身明暗变化较小的单一环境，可能会引起对于场景中光照强度的误判，可能需要调整或关闭这一功能
  - 通过后期盒，Exposure - Max/Min EV100，都设置为0则关闭自动曝光
- 后期处理材质：设置与后期处理一起使用的材质，以创建破坏的视觉屏幕效果、区域类型效果，也可以实现游戏的整体外观风格（比如：无主之地的美漫风）



### ==Lumen==

全动态全局光照和反射系统，高质量的解决了全局动态光中的问题，包括了全动态的色彩溢出、间接照明、间接阴影等，并且支持无限的漫反射。（UE5的门面技术）

开发者和玩家(游玩中)可以实时照亮或变暗场景中的区域，减少光照层面上的美术表现得难度，或者进行与场景更真实的交互。

UE4效果：只有直接光照（UE4可以通过静态烘焙达到类似UE5的效果，额外成本）
<img src="https://raw.githubusercontent.com/york99alex/Pic4york/main/fix-dir/2026/01/12/9a99e14f7015e1538058d45be9e3e6a7-image-20260112121550682-0a6545.png" alt="image-20260112121550682" style="zoom:50%;" />

UE5效果：
<img src="https://raw.githubusercontent.com/york99alex/Pic4york/main/fix-dir/2026/01/12/441af2820131659af07760a032e9b116-image-20260112121706542-9b45b3.png" alt="image-20260112121706542" style="zoom: 50%;" />



## 地形

在关卡下方的菜单栏-选择模式中，选择地形模式，进入地形编辑

左侧，创建一个默认配置的地形（该地形模块，本质也是一个特殊的模型 landscape，或者说网格体）

除了通过该方式进行手刷操作、还可以通过外部软件制作地形地貌：Worldcreator、Worldmachine、houdini、Gaea，将以高度图的方式贴附到当前关卡的地形模块上去生成

### 雕刻

也即手刷，雕刻有多种工具和多种笔刷

- 雕刻，笔刷，其中第二种Alpha笔刷比较适合山脉地形的生成
- 抹除、平滑
- 平整：长按拖动，以开始时的高度为目标进行平整，也有选项-高平目标，可指定平整高度
- 侵蚀：弱化平滑
- 水刀：适合边缘、有落差的地形塑造
- 噪点：随机调整

快捷键 `[` 和 `]` 可调整笔刷大小



### 地形材质

1. 先创建材质
2. 节点MakeMateriaAttributes：将多组纹理应用到多个材质球上
3. 节点LandscapeLayerBlend：将多个纹理或材质网络混合在一起作为地形图层
4. 选择材质球终节点，勾选 细节-使用材质属性，将第2步的输出连到终节点的**材质属性**上
5. 应用，先选中地形，将材质创建的材质实例拖动到地形上（如无效确认是否选中，或者在细节中找到地形材质，进行应用）
6. 再回到地形模式-绘制，目标层（如果没有刚才节点创建的对应层，在层的操作一栏点击-**创建所有材质层**
7. 此时选中指定层进行绘制

也可以下载网上的地形材质资源



## 植被系统

同地形编辑，进入植被模式，添加植被资产（也是一种特殊的静态网格体），此外地形系统和植被系统统称为景观系统。

对齐法线：是否需要垂直于其所在的地形平面需要根据不同植被来选择，灌木可能可以垂直，树木则不需要

LOD：Layer Of Detail，多细节层次，该技术会根据模型节点在显示中的位置和重要度决定渲染资源的分配。比如离远了看的就不那么清晰就可以使用减面更多的模型。



## ==Nanite==技术

如上面所说，在传统的开发中，每个模型都需要制作多层LOD，伴随着LOD层数增加其模型的面数也要减少，从而达到优化渲染时间的效果，但随着性能提升和对美术效果需求的提升，LOD在过度时明显的变化及LOD提高导致表现得大量缺失也是一个问题。

虚拟化几何体技术，Nanite 会将模型拆分成每个通常包含约 **128 个三角形** 的“集群”，通过实时分析屏幕只渲染在屏幕像素尺度上可见的细节，让场景可以直接使用数以亿计的多边形（如高模、电影级影视资源），而不需要担心传统引擎中的性能瓶颈。

### 优缺点

优点显而易见，极致的视觉体验，但并非完全没有缺点：

- **硬盘空间**：虽然 Nanite 压缩率很高，但 100 万面的模型肯定比 1 万面的大。如果全线使用高模，你的项目包体（Packed Build）会迅速膨胀。
- **内存压力**：Nanite采用流式传输，高模数据在运行时需要从硬盘流送到内存，如果硬盘性能不足，在大场景快速移动时可能会看到模型“模糊”或加载延迟。



**建模软件** DCC (Digital Content Creation) ：Auto desk里的MAYA、Max，Zbrush



### 导入Nanite模型

NM前缀，导入高面数时建议转为Nanite，通常建议将面数大于 **2000** 的物体都转为 Nanite。虚幻也有内置的Nanite分析工具、审计工具分析模型是否适合开Nanite。

导入成功后，右键模型资产，可以检查是否使用Nanite



## 虚拟阴影贴图

VSM，可以提供稳定的高分辨率阴影，通常与Nanite、Lumen以及世界分区功能结合使用，为大型开放场景提供光照。









# 链接

## 资源

- [贴图 • Poly Haven](https://polyhaven.com/zh/textures)
- 



## 文档

- [虚幻引擎5.6文档 | 虚幻引擎 5.7 文档 | Epic Developer Community](https://dev.epicgames.com/documentation/zh-cn/unreal-engine/unreal-engine-5-7-documentation)
- [UE5材质常用节点笔记](https://zhuanlan.zhihu.com/p/737324219)
- 



## 视频参考

- [【虚幻引擎】爆肝两个月！拜托三连了！这绝对是全B站最用心的UE5.1全中文新手入门公开教程，耗时千余小时开发！_哔哩哔哩_bilibili](https://www.bilibili.com/video/BV1Cd4y1V7G5/)
  入门4小时+实战4小时
- 